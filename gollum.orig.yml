# gollum.local
# assume raspbian base image

  vars_files:
    - vault_vars/gollum.local/ssl.yml
    - vault_vars/rootca-ssl.yml
  tasks:





  - name: Install snapd
    apt:
      name: snapd
      state: latest

  - name: Install docker
    apt:
      name: docker.io
      state: latest





# --------------------------
#   install nextcloud
# --------------------------

  - name: Install and configure nextcloud
    include_role:
      name: snap-nextcloud


# --------------------------
#   install samba
# --------------------------

  - name: Install and configure samba on docker
    include_role:
      name: docker-samba


# --------------------------
#   syncthing
# --------------------------

  # - name: Install and configure syncthing
  #   include_role:
  #     name: core-syncthing
